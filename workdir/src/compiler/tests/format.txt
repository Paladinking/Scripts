
fn fmt_uint(uint64 i) {
    uint8[256] buf;
    uint32 w;
    if (i == 0) {
        buf[0] = 48;
        buf[1] = 0;
        WriteConsoleW(GetStdHandle(-11), buf, 1, &w, null);
    } else {
        uint64 f = 1;
        uint64 c = 0;
        while (f <= i) {
            c = c + 1;
            f = f * 10;
        }

        uint64 ix = 0;

        while (ix < c) {
            uint64 u = i % 10;
            buf[(c - ix - 1) * 2] = u + 48;
            buf[(c - ix - 1) * 2 + 1] = 0;
            ix = ix + 1;
            i = i / 10;
        }
        WriteConsoleW(GetStdHandle(-11), buf, c, &w, null);
    }
}


